<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.les.dao.mapper.ExaminationMapper">

    <insert id="insertExam">
        INSERT INTO examination(examination_question)VALUES (#{examinationQuestion});
    </insert>
    <select id="getExamAndAnswer" resultType="com.les.dto.UserAnswer">
       SELECT
          e.examination_id,
          e.examination_question,
          e.examination_score,
          a.answer_id,
          a.answer_content,
          a.goal
      FROM examination e
        LEFT JOIN (SELECT *
          FROM answer
          WHERE user_id = #{userId}) a
          ON e.examination_id = a.examination_id
        WHERE e.examination_id = #{examId};
    </select>

</mapper>